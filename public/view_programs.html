<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Programs</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 min-h-screen">
    <div class="container mx-auto p-4">
        <h1 class="text-3xl font-bold text-center mb-6">University Programs</h1>
        <div id="programs-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            <!-- Programs will be dynamically loaded here -->
        </div>
    </div>

    <script>
        // Fetch and display programs
        async function loadPrograms() {
            const response = await fetch('/programs');
            const data = await response.json();

            const container = document.getElementById('programs-container');
            container.innerHTML = '';

            Object.keys(data).forEach((major) => {
                const majorDiv = document.createElement('div');
                majorDiv.className = 'bg-white p-4 rounded shadow-md';

                const majorTitle = document.createElement('h3');
                majorTitle.className = 'text-xl font-bold mb-2';
                majorTitle.textContent = major;

                const programList = document.createElement('ul');
                programList.className = 'list-disc pl-6';

                data[major].forEach((program) => {
                    const programItem = document.createElement('li');
                    programItem.innerHTML = `
                        <strong>${program.university}</strong><br>
                        ${program.curriculum}<br>
                        Duration: ${program.duration}<br>
                        Tuition: ${program.tuition}<br>
                        Location: ${program.location}<br>
                        Contact: ${program.contact}<br>
                    `;

                    programList.appendChild(programItem);
                });

                majorDiv.appendChild(majorTitle);
                majorDiv.appendChild(programList);
                container.appendChild(majorDiv);
            });
        }

        // Initial load
        loadPrograms();
    </script>
</body>

</html>